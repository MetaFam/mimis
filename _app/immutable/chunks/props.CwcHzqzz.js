import{g as q,d as y,L as C,h as l,i as F,u as O,B as N,R as x,j as A,l as U,P as z,k as M,m as L,n as Y,o as $,v as j,w as T,x as G,y as H,z as V}from"./runtime.CLX9cbR4.js";import{p as Z}from"./if.TjWLDv64.js";import{c as J}from"./store.C187W2Ah.js";function w(a){for(var r=T,t=T;r!==null&&!(r.f&(N|x));)r=r.parent;try{return A(r),a()}finally{A(t)}}function X(a,r,t,v){var g;var I=(t&G)!==0,d=!U||(t&z)!==0,R=(t&M)!==0,B=(t&H)!==0,S=!1,u;R?[u,S]=J(()=>a[r]):u=a[r];var s=(g=q(a,r))==null?void 0:g.set,n=v,c=!0,o=!1,h=()=>(o=!0,c&&(c=!1,B?n=O(v):n=v),n);u===void 0&&v!==void 0&&(s&&d&&y(),u=h(),s&&s(u));var f;if(d)f=()=>{var e=a[r];return e===void 0?h():(c=!0,o=!1,e)};else{var p=w(()=>(I?L:Y)(()=>a[r]));p.f|=C,f=()=>{var e=l(p);return e!==void 0&&(n=void 0),e===void 0?n:e}}if(!(t&$))return f;if(s){var D=a.$$legacy;return function(e,i){return arguments.length>0?((!d||!i||D||S)&&s(i?f():e),e):f()}}var m=!1,b=!1,P=V(u),_=w(()=>L(()=>{var e=f(),i=l(P);return m?(m=!1,b=!0,i):(b=!1,P.v=e)}));return I||(_.equals=j),function(e,i){if(arguments.length>0){const E=i?l(_):d&&R?Z(e):e;return _.equals(E)||(m=!0,F(P,E),o&&n!==void 0&&(n=E),O(()=>l(_))),e}return l(_)}}export{X as p};
