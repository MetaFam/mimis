import{c as i,w as o,a as h}from"./yWm7hIJd.js";import{R as r,e as c}from"./BM23hdiM.js";import{v as a}from"./S4bboljv.js";i({fileChunkEncoder:r,smallFileEncoder:r,chunker:h(1024*1024),fileLayout:o(1024)});function l(t){const n=c({version:1,roots:t}),e=a.encode(n.length),s=new Uint8Array(e.length+n.length);return s.set(e,0),s.set(n,e.length),s}function d(t){const n=a.encode(t.cid.bytes.length+t.bytes.length),e=new Uint8Array(n.length+t.cid.bytes.length+t.bytes.length);return e.set(n),e.set(t.cid.bytes,n.length),e.set(t.bytes,n.length+t.cid.bytes.length),e}class g extends TransformStream{constructor(n=[]){super({start:e=>e.enqueue(l(n)),transform:(e,s)=>{s.enqueue(d(e)),this.finalBlock=e}}),this.finalBlock=null}}export{g as C};
