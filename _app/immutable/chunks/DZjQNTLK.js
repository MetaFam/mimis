import{c as n}from"./Db2GIymm.js";import{s as o}from"./Bclqp6kc.js";async function h({auth:d,log:a}={}){const{storachaEmail:i,storachaSpace:t}=o;if(!i)throw new Error("No Storacha email specified in settings.");if(!t)throw new Error("No Storacha space name specified in settings.");const r=await n();a==null||a(`Awaiting confirmation on ${i}. Check your messages.`);const c=await r.login(i);a==null||a(`Connected as "${i}".`);let e=r.spaces().find(s=>s.name===t);if(e?a==null||a(`Found existing Storacha space: "${t}" (${e.did()}).`):(e=await r.createSpace(t,{account:c}),e&&(a==null||a(`Created Storacha space: "${t}" (${e.did()}).`))),!e)throw new Error(`Couldnâ€™t find or create space: "${t}".`);return await r.setCurrentSpace(e.did()),r}export{h as c};
