import{c as o}from"./B-VOZDPm.js";import{s as n}from"./B0SWonas.js";async function h({auth:d,log:r}={}){const{storachaEmail:i,storachaSpace:e}=n;if(!i)throw new Error("No Storacha email specified in settings.");if(!e)throw new Error("No Storacha space name specified in settings.");const t=await o();r?.(`Awaiting confirmation on ${i}. Check your messages.`);const c=await t.login(i);r?.(`Connected as "${i}".`);let a=t.spaces().find(s=>s.name===e);if(a?r?.(`Found existing Storacha space: "${e}" (${a.did()}).`):(a=await t.createSpace(e,{account:c}),a&&r?.(`Created Storacha space: "${e}" (${a.did()}).`)),!a)throw new Error(`Couldnâ€™t find or create space: "${e}".`);return await t.setCurrentSpace(a.did()),t}export{h as c};
