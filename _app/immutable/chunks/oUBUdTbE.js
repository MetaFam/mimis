import{a6 as y,af as F,i as l,a5 as N,K as Y,g as T,Z as x,ag as G,ad as M,ah as U,G as L,ai as Z,aj as $,ak as q,k as B,al as j,x as z,am as H,an as K,ao as V,ap as J,aq as Q}from"./-1OJfg0W.js";import{p as W}from"./7ymiA-OT.js";let c=!1;function X(r){var a=c;try{return c=!1,[r(),c]}finally{c=a}}function C(r){for(var a=L,n=L;a!==null&&!(a.f&(Z|$));)a=a.parent;try{return q(a),r()}finally{q(n)}}function ae(r,a,n,v){var A;var I=(n&Q)!==0,d=!M||(n&U)!==0,o=(n&j)!==0,D=(n&J)!==0,R=!1,t;o?[t,R]=X(()=>r[a]):t=r[a];var p=x in r||G in r,_=o&&(((A=y(r,a))==null?void 0:A.set)??(p&&a in r&&(e=>r[a]=e)))||void 0,i=v,P=!0,S=!1,b=()=>(S=!0,P&&(P=!1,D?i=T(v):i=v),i);t===void 0&&v!==void 0&&(_&&d&&F(),t=b(),_&&_(t));var f;if(d)f=()=>{var e=r[a];return e===void 0?b():(P=!0,S=!1,e)};else{var O=C(()=>(I?B:z)(()=>r[a]));O.f|=H,f=()=>{var e=l(O);return e!==void 0&&(i=void 0),e===void 0?i:e}}if(!(n&K))return f;if(_){var w=r.$$legacy;return function(e,u){return arguments.length>0?((!d||!u||w||R)&&_(u?f():e),e):f()}}var E=!1,h=!1,m=Y(t),s=C(()=>B(()=>{var e=f(),u=l(m);return E?(E=!1,h=!0,u):(h=!1,m.v=e)}));return I||(s.equals=V),function(e,u){if(arguments.length>0){const g=u?l(s):d&&o?W(e):e;return s.equals(g)||(E=!0,N(m,g),S&&i!==void 0&&(i=g),T(()=>l(s))),e}return l(s)}}export{ae as p};
