import{h as y,o as m,q as E,v as w,w as i,x as h,n as t,y as q}from"./obqp2paV.js";import{l as b}from"./BSrLC8Pd.js";function g(e,c,l=c){var f=i(),v=new WeakSet;b(e,"input",d=>{var a=d?e.defaultValue:e.value;if(a=n(e)?u(a):a,l(a),h!==null&&v.add(h),f&&a!==(a=c())){var _=e.selectionStart,s=e.selectionEnd;e.value=a??"",s!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(s,e.value.length))}}),(t&&e.defaultValue!==e.value||y(c)==null&&e.value)&&(l(n(e)?u(e.value):e.value),h!==null&&v.add(h)),m(()=>{var d=c();e===document.activeElement&&v.has(h)||n(e)&&d===u(e.value)||e.type==="date"&&!d&&!e.value||d!==e.value&&(e.value=d??"")})}const k=new Set;function x(e,c,l,f,v=f){var d=l.getAttribute("type")==="checkbox",a=e;let _=!1;if(c!==null)for(var s of c)a=a[s]??(a[s]=[]);a.push(l),b(l,"change",()=>{var r=l.__value;d&&(r=S(a,r,l.checked)),v(r)},()=>v(d?[]:null)),m(()=>{var r=f();if(t&&l.defaultChecked!==l.checked){_=!0;return}d?(r=r||[],l.checked=r.includes(l.__value)):l.checked=q(l.__value,r)}),E(()=>{var r=a.indexOf(l);r!==-1&&a.splice(r,1)}),k.has(a)||(k.add(a),w(()=>{a.sort((r,o)=>r.compareDocumentPosition(o)===4?-1:1),k.delete(a)})),w(()=>{if(_){var r;if(d)r=S(a,r,l.checked);else{var o=a.find(C=>C.checked);r=o==null?void 0:o.__value}v(r)}})}function B(e,c,l=c){b(e,"change",f=>{var v=f?e.defaultChecked:e.checked;l(v)}),(t&&e.defaultChecked!==e.checked||y(c)==null)&&l(e.checked),m(()=>{var f=c();e.checked=!!f})}function S(e,c,l){for(var f=new Set,v=0;v<e.length;v+=1)e[v].checked&&f.add(e[v].__value);return l||f.delete(c),Array.from(f)}function n(e){var c=e.type;return c==="number"||c==="range"}function u(e){return e===""?null:+e}export{x as a,B as b,g as c};
