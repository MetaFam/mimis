import{g as D,b as C,L as F,d as l,e as N,u as O,B as y,R as U,h as A,l as x,P as M,i as Y,j as L,k as $,m as j,n as z,o as T,q as G,v as H,w as V}from"./runtime.Bx2Nn8Q7.js";import{p as Z}from"./if.cg-YgoI-.js";import{c as J}from"./store.NXb3SNd8.js";function q(a){for(var r=T,t=T;r!==null&&!(r.f&(y|U));)r=r.parent;try{return A(r),a()}finally{A(t)}}function X(a,r,t,v){var g;var I=(t&G)!==0,d=!x||(t&M)!==0,R=(t&Y)!==0,w=(t&H)!==0,S=!1,u;R?[u,S]=J(()=>a[r]):u=a[r];var s=(g=D(a,r))==null?void 0:g.set,n=v,c=!0,o=!1,b=()=>(o=!0,c&&(c=!1,w?n=O(v):n=v),n);u===void 0&&v!==void 0&&(s&&d&&C(),u=b(),s&&s(u));var f;if(d)f=()=>{var e=a[r];return e===void 0?b():(c=!0,o=!1,e)};else{var h=q(()=>(I?L:$)(()=>a[r]));h.f|=F,f=()=>{var e=l(h);return e!==void 0&&(n=void 0),e===void 0?n:e}}if(!(t&j))return f;if(s){var B=a.$$legacy;return function(e,i){return arguments.length>0?((!d||!i||B||S)&&s(i?f():e),e):f()}}var m=!1,p=!1,P=V(u),_=q(()=>L(()=>{var e=f(),i=l(P);return m?(m=!1,p=!0,i):(p=!1,P.v=e)}));return I||(_.equals=z),function(e,i){if(arguments.length>0){const E=i?l(_):d&&R?Z(e):e;return _.equals(E)||(m=!0,N(P,E),o&&n!==void 0&&(n=E),O(()=>l(_))),e}return l(_)}}export{X as p};
