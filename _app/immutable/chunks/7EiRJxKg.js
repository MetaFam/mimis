import{c as s}from"./uiFetBMy.js";import{s as o}from"./C7stL2V7.js";async function h({auth:d,log:a}={}){const{storachaEmail:r,storachaSpace:e}=o;if(!r)throw new Error("No Storacha email specified in settings.");if(!e)throw new Error("No Storacha space name specified in settings.");const i=await s();a==null||a(`Awaiting confirmation on ${r}.`);const c=await i.login(r);a==null||a(`Connected as "${r}".`);let t=i.spaces().find(n=>n.name===e);if(t?a==null||a(`Found existing Storacha space: "${e}" (${t.did()}).`):(t=await i.createSpace(e,{account:c}),t&&(a==null||a(`Created Storacha space: "${e}" (${t.did()}).`))),!t)throw new Error(`Couldnâ€™t find or create space: "${e}".`);return await i.setCurrentSpace(t.did()),i}export{h as c};
