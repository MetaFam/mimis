import{a as qt,D as Ft,b as Wt,I as Gt,c as Jt,h as Yt,i as Zt,E as Kt,J as Xt,F as be,l as Qt,K as ve,k as Qe}from"./C1TpcBhl.js";import{aF as ut,aG as et,aH as De,aI as qe,aJ as ft,aK as Pe,aL as Se,aM as dt,aN as tt,aO as lt,aP as en,aQ as tn,aR as nn,aS as rn,aT as sn,aU as on,aV as an,aW as cn,aX as un,aY as fn,aZ as dn,a_ as ln,a$ as mn,b0 as hn,b1 as pn,b2 as yn,b3 as bn}from"./CrTysklZ.js";import{H as gn}from"./BEBaXJsP.js";import{_ as xn,j as In,f as En,k as vn,e as Bn,b as wn,l as Pn,d as Sn,c as zn,h as $n,g as On,o as An,p as Un,q as _n,r as jn,m as Rn,s as Mn,a as Ln,n as Nn,i as Tn,t as Hn,v as Cn,u as kn}from"./FwuuY7KI.js";function Vn(e){return e}function Dn(e){const t=[],r=e.length;for(let s=0;s<r;s++){const i=e[s],d=ut(i);t.push(d)}return t}function qn(e){let t;if(typeof e=="string")t=et(e);else{const r=De(e),s=e.length;for(let i=0;i<s;i++){const d=e[i];if(!qe(d)){t=et(d,r);break}}}if(!t)throw new ft({signature:e});return t}function Fn(e){let t;if(typeof e=="string")t=Pe(e,{modifiers:Se});else{const r=De(e),s=e.length;for(let i=0;i<s;i++){const d=e[i];if(!qe(d)){t=Pe(d,{modifiers:Se,structs:r});break}}}if(!t)throw new dt({param:e});return t}function Wn(e){const t=[];if(typeof e=="string"){const r=tt(e),s=r.length;for(let i=0;i<s;i++)t.push(Pe(r[i],{modifiers:Se}))}else{const r=De(e),s=e.length;for(let i=0;i<s;i++){const d=e[i];if(qe(d))continue;const g=tt(d),I=g.length;for(let y=0;y<I;y++)t.push(Pe(g[y],{modifiers:Se,structs:r}))}}if(t.length===0)throw new lt({params:e});return t}const Gn=Object.freeze(Object.defineProperty({__proto__:null,BaseError:en,CircularReferenceError:tn,InvalidAbiItemError:ft,InvalidAbiParameterError:dt,InvalidAbiParametersError:lt,InvalidAbiTypeParameterError:nn,InvalidFunctionModifierError:rn,InvalidModifierError:sn,InvalidParameterError:on,InvalidParenthesisError:an,InvalidSignatureError:cn,InvalidStructSignatureError:un,SolidityProtectedKeywordError:fn,UnknownSignatureError:dn,UnknownSolidityTypeError:ln,UnknownTypeError:mn,formatAbi:Dn,formatAbiItem:ut,formatAbiParameter:hn,formatAbiParameters:pn,narrow:Vn,parseAbi:yn,parseAbiItem:qn,parseAbiParameter:Fn,parseAbiParameters:Wn},Symbol.toStringTag,{value:"Module"})),Jn=Object.freeze(Object.defineProperty({__proto__:null,_validateObject:xn,aInRange:In,abool:En,abytes:qt,anumber:Ft,bitGet:vn,bitLen:Bn,bitMask:wn,bitSet:Pn,bytesToHex:Wt,bytesToNumberBE:Sn,bytesToNumberLE:zn,bytesToUtf8:Gt,concatBytes:Jt,createHmacDrbg:$n,ensureBytes:On,equalBytes:An,hexToBytes:Yt,hexToNumber:Un,inRange:_n,isBytes:Zt,isHash:jn,memoized:Rn,notImplemented:Mn,numberToBytesBE:Ln,numberToBytesLE:Nn,numberToHexUnpadded:Tn,numberToVarBytesBE:Hn,randomBytes:Kt,utf8ToBytes:Xt,validateObject:Cn},Symbol.toStringTag,{value:"Module"}));var fe={};const $e=be(Gn);var F={},K={},ge={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.version=void 0;Oe.version="0.1.1";Object.defineProperty(ge,"__esModule",{value:!0});ge.getUrl=Zn;ge.getVersion=Kn;ge.prettyPrint=Xn;const Yn=Oe;function Zn(e){return e}function Kn(){return Yn.version}function Xn(e){if(!e)return"";const t=Object.entries(e).map(([s,i])=>i===void 0||i===!1?null:[s,i]).filter(Boolean),r=t.reduce((s,[i])=>Math.max(s,i.length),0);return t.map(([s,i])=>`  ${`${s}:`.padEnd(r+1)}  ${i}`).join(`
`)}Object.defineProperty(K,"__esModule",{value:!0});K.BaseError=void 0;const Qn=ge;class ze extends Error{constructor(t,r={}){const s=(()=>{var y;if(r.cause instanceof ze){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(y=r.cause)!=null&&y.message?r.cause.message:r.details})(),i=r.cause instanceof ze&&r.cause.docsPath||r.docsPath,g=`https://oxlib.sh${i??""}`,I=[t||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...s||i?["",s?`Details: ${s}`:void 0,i?`See: ${g}`:void 0]:[]].filter(y=>typeof y=="string").join(`
`);super(I,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${(0,Qn.getVersion)()}`}),this.cause=r.cause,this.details=s,this.docs=g,this.docsPath=i,this.shortMessage=t}walk(t){return mt(this,t)}}K.BaseError=ze;function mt(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?mt(e.cause,t):t?null:e}var oe={};const er=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ht=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),tr=ht.map(e=>(9*e+5)%16),pt=(()=>{const r=[[ht],[tr]];for(let s=0;s<4;s++)for(let i of r)i.push(i[s].map(d=>er[d]));return r})(),yt=pt[0],bt=pt[1],gt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),nr=yt.map((e,t)=>e.map(r=>gt[t][r])),rr=bt.map((e,t)=>e.map(r=>gt[t][r])),ir=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),sr=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function nt(e,t,r,s){return e===0?t^r^s:e===1?t&r|~t&s:e===2?(t|~r)^s:e===3?t&s|r&~s:t^(r|~s)}const Be=new Uint32Array(16);let xt=class extends gn{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:r,h2:s,h3:i,h4:d}=this;return[t,r,s,i,d]}set(t,r,s,i,d){this.h0=t|0,this.h1=r|0,this.h2=s|0,this.h3=i|0,this.h4=d|0}process(t,r){for(let P=0;P<16;P++,r+=4)Be[P]=t.getUint32(r,!0);let s=this.h0|0,i=s,d=this.h1|0,g=d,I=this.h2|0,y=I,h=this.h3|0,O=h,B=this.h4|0,j=B;for(let P=0;P<5;P++){const W=4-P,Q=ir[P],Y=sr[P],V=yt[P],Z=bt[P],X=nr[P],S=rr[P];for(let E=0;E<16;E++){const A=ve(s+nt(P,d,I,h)+Be[V[E]]+Q,X[E])+B|0;s=B,B=h,h=ve(I,10)|0,I=d,d=A}for(let E=0;E<16;E++){const A=ve(i+nt(W,g,y,O)+Be[Z[E]]+Y,S[E])+j|0;i=j,j=O,O=ve(y,10)|0,y=g,g=A}}this.set(this.h1+I+O|0,this.h2+h+j|0,this.h3+B+i|0,this.h4+s+g|0,this.h0+d+y|0)}roundClean(){Qe(Be)}destroy(){this.destroyed=!0,Qe(this.buffer),this.set(0,0,0,0,0)}};const or=Qt(()=>new xt),ar=xt,cr=or,ur=Object.freeze(Object.defineProperty({__proto__:null,RIPEMD160:ar,ripemd160:cr},Symbol.toStringTag,{value:"Module"})),fr=be(ur),dr=be(bn),lr=be(kn);var U={};const It=be(Jn);var z={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.parse=mr;de.stringify=hr;const Le="#__bigint";function mr(e,t){return JSON.parse(e,(r,s)=>{const i=s;return typeof i=="string"&&i.endsWith(Le)?BigInt(i.slice(0,-Le.length)):typeof t=="function"?t(r,i):i})}function hr(e,t,r){return JSON.stringify(e,(s,i)=>typeof t=="function"?t(s,i):typeof i=="bigint"?i.toString()+Le:i,r)}var Re={},rt;function Et(){return rt||(rt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.charCodeMap=void 0,e.assertSize=r,e.assertStartOffset=s,e.assertEndOffset=i,e.charCodeToBase16=d,e.pad=g,e.trim=I;const t=ae();function r(y,h){if(t.size(y)>h)throw new t.SizeOverflowError({givenSize:t.size(y),maxSize:h})}function s(y,h){if(typeof h=="number"&&h>0&&h>t.size(y)-1)throw new t.SliceOffsetOutOfBoundsError({offset:h,position:"start",size:t.size(y)})}function i(y,h,O){if(typeof h=="number"&&typeof O=="number"&&t.size(y)!==O-h)throw new t.SliceOffsetOutOfBoundsError({offset:O,position:"end",size:t.size(y)})}e.charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(y){if(y>=e.charCodeMap.zero&&y<=e.charCodeMap.nine)return y-e.charCodeMap.zero;if(y>=e.charCodeMap.A&&y<=e.charCodeMap.F)return y-(e.charCodeMap.A-10);if(y>=e.charCodeMap.a&&y<=e.charCodeMap.f)return y-(e.charCodeMap.a-10)}function g(y,h={}){const{dir:O,size:B=32}=h;if(B===0)return y;if(y.length>B)throw new t.SizeExceedsPaddingSizeError({size:y.length,targetSize:B,type:"Bytes"});const j=new Uint8Array(B);for(let P=0;P<B;P++){const W=O==="right";j[W?P:B-P-1]=y[W?P:y.length-P-1]}return j}function I(y,h={}){const{dir:O="left"}=h;let B=y,j=0;for(let P=0;P<B.length-1&&B[O==="left"?P:B.length-P-1].toString()==="0";P++)j++;return B=O==="left"?B.slice(j):B.slice(0,B.length-j),B}}(Re)),Re}var re={},it;function vt(){if(it)return re;it=1,Object.defineProperty(re,"__esModule",{value:!0}),re.assertSize=t,re.assertStartOffset=r,re.assertEndOffset=s,re.pad=i,re.trim=d;const e=te();function t(g,I){if(e.size(g)>I)throw new e.SizeOverflowError({givenSize:e.size(g),maxSize:I})}function r(g,I){if(typeof I=="number"&&I>0&&I>e.size(g)-1)throw new e.SliceOffsetOutOfBoundsError({offset:I,position:"start",size:e.size(g)})}function s(g,I,y){if(typeof I=="number"&&typeof y=="number"&&e.size(g)!==y-I)throw new e.SliceOffsetOutOfBoundsError({offset:y,position:"end",size:e.size(g)})}function i(g,I={}){const{dir:y,size:h=32}=I;if(h===0)return g;const O=g.replace("0x","");if(O.length>h*2)throw new e.SizeExceedsPaddingSizeError({size:Math.ceil(O.length/2),targetSize:h,type:"Hex"});return`0x${O[y==="right"?"padEnd":"padStart"](h*2,"0")}`}function d(g,I={}){const{dir:y="left"}=I;let h=g.replace("0x",""),O=0;for(let B=0;B<h.length-1&&h[y==="left"?B:h.length-B-1].toString()==="0";B++)O++;return h=y==="left"?h.slice(O):h.slice(0,h.length-O),h==="0"?"0x":y==="right"&&h.length%2===1?`0x${h}0`:`0x${h}`}return re}var st;function te(){if(st)return z;st=1,Object.defineProperty(z,"__esModule",{value:!0}),z.SizeExceedsPaddingSizeError=z.SliceOffsetOutOfBoundsError=z.SizeOverflowError=z.InvalidLengthError=z.InvalidHexValueError=z.InvalidHexTypeError=z.InvalidHexBooleanError=z.IntegerOutOfRangeError=void 0,z.assert=y,z.concat=h,z.from=O,z.fromBoolean=B,z.fromBytes=j,z.fromNumber=P,z.fromString=W,z.isEqual=Q,z.padLeft=Y,z.padRight=V,z.random=Z,z.slice=X,z.size=S,z.trimLeft=E,z.trimRight=A,z.toBigInt=_,z.toBoolean=C,z.toBytes=T,z.toNumber=G,z.toString=k,z.validate=c;const e=It,t=ae(),r=K,s=de,i=Et(),d=vt(),g=new TextEncoder,I=Array.from({length:256},(o,a)=>a.toString(16).padStart(2,"0"));function y(o,a={}){const{strict:p=!1}=a;if(!o)throw new l(o);if(typeof o!="string")throw new l(o);if(p&&!/^0x[0-9a-fA-F]*$/.test(o))throw new x(o);if(!o.startsWith("0x"))throw new x(o)}function h(...o){return`0x${o.reduce((a,p)=>a+p.replace("0x",""),"")}`}function O(o){return o instanceof Uint8Array?j(o):Array.isArray(o)?j(new Uint8Array(o)):o}function B(o,a={}){const p=`0x${Number(o)}`;return typeof a.size=="number"?(d.assertSize(p,a.size),Y(p,a.size)):p}function j(o,a={}){let p="";for(let R=0;R<o.length;R++)p+=I[o[R]];const v=`0x${p}`;return typeof a.size=="number"?(d.assertSize(v,a.size),V(v,a.size)):v}function P(o,a={}){const{signed:p,size:v}=a,R=BigInt(o);let M;v?p?M=(1n<<BigInt(v)*8n-1n)-1n:M=2n**(BigInt(v)*8n)-1n:typeof o=="number"&&(M=BigInt(Number.MAX_SAFE_INTEGER));const J=typeof M=="bigint"&&p?-M-1n:0;if(M&&R>M||R<J){const je=typeof o=="bigint"?"n":"";throw new f({max:M?`${M}${je}`:void 0,min:`${J}${je}`,signed:p,size:v,value:`${o}${je}`})}const ie=`0x${(p&&R<0?(1n<<BigInt(v*8))+BigInt(R):R).toString(16)}`;return v?Y(ie,v):ie}function W(o,a={}){return j(g.encode(o),a)}function Q(o,a){return(0,e.equalBytes)(t.fromHex(o),t.fromHex(a))}function Y(o,a){return d.pad(o,{dir:"left",size:a})}function V(o,a){return d.pad(o,{dir:"right",size:a})}function Z(o){return j(t.random(o))}function X(o,a,p,v={}){const{strict:R}=v;d.assertStartOffset(o,a);const M=`0x${o.replace("0x","").slice((a??0)*2,(p??o.length)*2)}`;return R&&d.assertEndOffset(M,a,p),M}function S(o){return Math.ceil((o.length-2)/2)}function E(o){return d.trim(o,{dir:"left"})}function A(o){return d.trim(o,{dir:"right"})}function _(o,a={}){const{signed:p}=a;a.size&&d.assertSize(o,a.size);const v=BigInt(o);if(!p)return v;const R=(o.length-2)/2,M=(1n<<BigInt(R)*8n)-1n,J=M>>1n;return v<=J?v:v-M-1n}function C(o,a={}){a.size&&d.assertSize(o,a.size);const p=E(o);if(p==="0x")return!1;if(p==="0x1")return!0;throw new b(o)}function T(o,a={}){return t.fromHex(o,a)}function G(o,a={}){const{signed:p,size:v}=a;return Number(!p&&!v?o:_(o,a))}function k(o,a={}){const{size:p}=a;let v=t.fromHex(o);return p&&(i.assertSize(v,p),v=t.trimRight(v)),new TextDecoder().decode(v)}function c(o,a={}){const{strict:p=!1}=a;try{return y(o,{strict:p}),!0}catch{return!1}}class f extends r.BaseError{constructor({max:a,min:p,signed:v,size:R,value:M}){super(`Number \`${M}\` is not in safe${R?` ${R*8}-bit`:""}${v?" signed":" unsigned"} integer range ${a?`(\`${p}\` to \`${a}\`)`:`(above \`${p}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}z.IntegerOutOfRangeError=f;class b extends r.BaseError{constructor(a){super(`Hex value \`"${a}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}}z.InvalidHexBooleanError=b;class l extends r.BaseError{constructor(a){super(`Value \`${typeof a=="object"?s.stringify(a):a}\` of type \`${typeof a}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}z.InvalidHexTypeError=l;class x extends r.BaseError{constructor(a){super(`Value \`${a}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}z.InvalidHexValueError=x;class w extends r.BaseError{constructor(a){super(`Hex value \`"${a}"\` is an odd length (${a.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}}z.InvalidLengthError=w;class $ extends r.BaseError{constructor({givenSize:a,maxSize:p}){super(`Size cannot exceed \`${p}\` bytes. Given size: \`${a}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}z.SizeOverflowError=$;class u extends r.BaseError{constructor({offset:a,position:p,size:v}){super(`Slice ${p==="start"?"starting":"ending"} at offset \`${a}\` is out-of-bounds (size: \`${v}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}z.SliceOffsetOutOfBoundsError=u;class m extends r.BaseError{constructor({size:a,targetSize:p,type:v}){super(`${v.charAt(0).toUpperCase()}${v.slice(1).toLowerCase()} size (\`${a}\`) exceeds padding size (\`${p}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}return z.SizeExceedsPaddingSizeError=m,z}var ot;function ae(){if(ot)return U;ot=1,Object.defineProperty(U,"__esModule",{value:!0}),U.SizeExceedsPaddingSizeError=U.SliceOffsetOutOfBoundsError=U.SizeOverflowError=U.InvalidBytesTypeError=U.InvalidBytesBooleanError=void 0,U.assert=y,U.concat=h,U.from=O,U.fromArray=B,U.fromBoolean=j,U.fromHex=P,U.fromNumber=W,U.fromString=Q,U.isEqual=Y,U.padLeft=V,U.padRight=Z,U.random=X,U.size=S,U.slice=E,U.toBigInt=A,U.toBoolean=_,U.toHex=C,U.toNumber=T,U.toString=G,U.trimLeft=k,U.trimRight=c,U.validate=f;const e=It,t=K,r=te(),s=de,i=Et(),d=vt(),g=new TextDecoder,I=new TextEncoder;function y(u){if(!(u instanceof Uint8Array)){if(!u)throw new l(u);if(typeof u!="object")throw new l(u);if(!("BYTES_PER_ELEMENT"in u))throw new l(u);if(u.BYTES_PER_ELEMENT!==1||u.constructor.name!=="Uint8Array")throw new l(u)}}function h(...u){let m=0;for(const a of u)m+=a.length;const o=new Uint8Array(m);for(let a=0,p=0;a<u.length;a++){const v=u[a];o.set(v,p),p+=v.length}return o}function O(u){return u instanceof Uint8Array?u:typeof u=="string"?P(u):B(u)}function B(u){return u instanceof Uint8Array?u:new Uint8Array(u)}function j(u,m={}){const{size:o}=m,a=new Uint8Array(1);return a[0]=Number(u),typeof o=="number"?(i.assertSize(a,o),V(a,o)):a}function P(u,m={}){const{size:o}=m;let a=u;o&&(d.assertSize(u,o),a=r.padRight(u,o));let p=a.slice(2);p.length%2&&(p=`0${p}`);const v=p.length/2,R=new Uint8Array(v);for(let M=0,J=0;M<v;M++){const le=i.charCodeToBase16(p.charCodeAt(J++)),ie=i.charCodeToBase16(p.charCodeAt(J++));if(le===void 0||ie===void 0)throw new t.BaseError(`Invalid byte sequence ("${p[J-2]}${p[J-1]}" in "${p}").`);R[M]=le*16+ie}return R}function W(u,m){const o=r.fromNumber(u,m);return P(o)}function Q(u,m={}){const{size:o}=m,a=I.encode(u);return typeof o=="number"?(i.assertSize(a,o),Z(a,o)):a}function Y(u,m){return(0,e.equalBytes)(u,m)}function V(u,m){return i.pad(u,{dir:"left",size:m})}function Z(u,m){return i.pad(u,{dir:"right",size:m})}function X(u){return crypto.getRandomValues(new Uint8Array(u))}function S(u){return u.length}function E(u,m,o,a={}){const{strict:p}=a;i.assertStartOffset(u,m);const v=u.slice(m,o);return p&&i.assertEndOffset(v,m,o),v}function A(u,m={}){const{size:o}=m;typeof o<"u"&&i.assertSize(u,o);const a=r.fromBytes(u,m);return r.toBigInt(a,m)}function _(u,m={}){const{size:o}=m;let a=u;if(typeof o<"u"&&(i.assertSize(a,o),a=k(a)),a.length>1||a[0]>1)throw new b(a);return!!a[0]}function C(u,m={}){return r.fromBytes(u,m)}function T(u,m={}){const{size:o}=m;typeof o<"u"&&i.assertSize(u,o);const a=r.fromBytes(u,m);return r.toNumber(a,m)}function G(u,m={}){const{size:o}=m;let a=u;return typeof o<"u"&&(i.assertSize(a,o),a=c(a)),g.decode(a)}function k(u){return i.trim(u,{dir:"left"})}function c(u){return i.trim(u,{dir:"right"})}function f(u){try{return y(u),!0}catch{return!1}}class b extends t.BaseError{constructor(m){super(`Bytes value \`${m}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}U.InvalidBytesBooleanError=b;class l extends t.BaseError{constructor(m){super(`Value \`${typeof m=="object"?s.stringify(m):m}\` of type \`${typeof m}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}U.InvalidBytesTypeError=l;class x extends t.BaseError{constructor({givenSize:m,maxSize:o}){super(`Size cannot exceed \`${o}\` bytes. Given size: \`${m}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}U.SizeOverflowError=x;class w extends t.BaseError{constructor({offset:m,position:o,size:a}){super(`Slice ${o==="start"?"starting":"ending"} at offset \`${m}\` is out-of-bounds (size: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}U.SliceOffsetOutOfBoundsError=w;class $ extends t.BaseError{constructor({size:m,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (\`${m}\`) exceeds padding size (\`${o}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}return U.SizeExceedsPaddingSizeError=$,U}Object.defineProperty(oe,"__esModule",{value:!0});oe.keccak256=gr;oe.ripemd160=xr;oe.sha256=Ir;oe.validate=Er;const pr=fr,yr=dr,br=lr,Fe=ae(),me=te();function gr(e,t={}){const{as:r=typeof e=="string"?"Hex":"Bytes"}=t,s=(0,yr.keccak_256)(Fe.from(e));return r==="Bytes"?s:me.fromBytes(s)}function xr(e,t={}){const{as:r=typeof e=="string"?"Hex":"Bytes"}=t,s=(0,pr.ripemd160)(Fe.from(e));return r==="Bytes"?s:me.fromBytes(s)}function Ir(e,t={}){const{as:r=typeof e=="string"?"Hex":"Bytes"}=t,s=(0,br.sha256)(Fe.from(e));return r==="Bytes"?s:me.fromBytes(s)}function Er(e){return me.validate(e)&&me.size(e)===32}var xe={},D={},Ie={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.LruMap=void 0;class vr extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}Ae.LruMap=vr;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.checksum=void 0;Ie.clear=wr;const Br=Ae,Bt={checksum:new Br.LruMap(8192)};Ie.checksum=Bt.checksum;function wr(){for(const e of Object.values(Bt))e.clear()}var H={};Object.defineProperty(H,"__esModule",{value:!0});H.InvalidSerializedSizeError=H.InvalidUncompressedPrefixError=H.InvalidCompressedPrefixError=H.InvalidPrefixError=H.InvalidError=void 0;H.assert=Ue;H.compress=Sr;H.from=zr;H.fromBytes=Pt;H.fromHex=We;H.toBytes=$r;H.toHex=St;H.validate=Or;const wt=ae(),Ee=K,q=te(),Pr=de;function Ue(e,t={}){const{compressed:r}=t,{prefix:s,x:i,y:d}=e;if(r===!1||typeof i=="bigint"&&typeof d=="bigint"){if(s!==4)throw new Ne({prefix:s,cause:new Ot});return}if(r===!0||typeof i=="bigint"&&typeof d>"u"){if(s!==3&&s!==2)throw new Ne({prefix:s,cause:new $t});return}throw new zt({publicKey:e})}function Sr(e){const{x:t,y:r}=e;return{prefix:r%2n===0n?2:3,x:t}}function zr(e){const t=(()=>{if(q.validate(e))return We(e);if(wt.validate(e))return Pt(e);const{prefix:r,x:s,y:i}=e;return typeof s=="bigint"&&typeof i=="bigint"?{prefix:r??4,x:s,y:i}:{prefix:r,x:s}})();return Ue(t),t}function Pt(e){return We(q.fromBytes(e))}function We(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new At({publicKey:e});if(e.length===130){const s=BigInt(q.slice(e,0,32)),i=BigInt(q.slice(e,32,64));return{prefix:4,x:s,y:i}}if(e.length===132){const s=Number(q.slice(e,0,1)),i=BigInt(q.slice(e,1,33)),d=BigInt(q.slice(e,33,65));return{prefix:s,x:i,y:d}}const t=Number(q.slice(e,0,1)),r=BigInt(q.slice(e,1,33));return{prefix:t,x:r}}function $r(e,t={}){return wt.fromHex(St(e,t))}function St(e,t={}){Ue(e);const{prefix:r,x:s,y:i}=e,{includePrefix:d=!0}=t;return q.concat(d?q.fromNumber(r,{size:1}):"0x",q.fromNumber(s,{size:32}),typeof i=="bigint"?q.fromNumber(i,{size:32}):"0x")}function Or(e,t={}){try{return Ue(e,t),!0}catch{return!1}}class zt extends Ee.BaseError{constructor({publicKey:t}){super(`Value \`${Pr.stringify(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}H.InvalidError=zt;class Ne extends Ee.BaseError{constructor({prefix:t,cause:r}){super(`Prefix "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}H.InvalidPrefixError=Ne;class $t extends Ee.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}H.InvalidCompressedPrefixError=$t;class Ot extends Ee.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}H.InvalidUncompressedPrefixError=Ot;class At extends Ee.BaseError{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${q.size(q.from(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}H.InvalidSerializedSizeError=At;Object.defineProperty(D,"__esModule",{value:!0});D.InvalidChecksumError=D.InvalidInputError=D.InvalidAddressError=void 0;D.assert=ce;D.checksum=Je;D.from=_t;D.fromPublicKey=jr;D.isEqual=Rr;D.validate=Mr;const Ar=ae(),Me=Ie,Ge=K,Ut=oe,Ur=H,_r=/^0x[a-fA-F0-9]{40}$/;function ce(e,t={}){const{strict:r=!0}=t;if(!_r.test(e))throw new Te({address:e,cause:new jt});if(r){if(e.toLowerCase()===e)return;if(Je(e)!==e)throw new Te({address:e,cause:new Rt})}}function Je(e){if(Me.checksum.has(e))return Me.checksum.get(e);ce(e,{strict:!1});const t=e.substring(2).toLowerCase(),r=Ut.keccak256(Ar.fromString(t),{as:"Bytes"}),s=t.split("");for(let d=0;d<40;d+=2)r[d>>1]>>4>=8&&s[d]&&(s[d]=s[d].toUpperCase()),(r[d>>1]&15)>=8&&s[d+1]&&(s[d+1]=s[d+1].toUpperCase());const i=`0x${s.join("")}`;return Me.checksum.set(e,i),i}function _t(e,t={}){const{checksum:r=!1}=t;return ce(e),r?Je(e):e}function jr(e,t={}){const r=Ut.keccak256(`0x${Ur.toHex(e).slice(4)}`).substring(26);return _t(`0x${r}`,t)}function Rr(e,t){return ce(e,{strict:!1}),ce(t,{strict:!1}),e.toLowerCase()===t.toLowerCase()}function Mr(e,t={}){const{strict:r=!0}=t??{};try{return ce(e,{strict:r}),!0}catch{return!1}}class Te extends Ge.BaseError{constructor({address:t,cause:r}){super(`Address "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}D.InvalidAddressError=Te;class jt extends Ge.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}D.InvalidInputError=jt;class Rt extends Ge.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}D.InvalidChecksumError=Rt;Object.defineProperty(xe,"__esModule",{value:!0});xe.normalizeSignature=Nr;xe.isArgOfType=Ce;xe.getAmbiguousTypes=Mt;const He=D,Lr=K;function Nr(e){let t=!0,r="",s=0,i="",d=!1;for(let g=0;g<e.length;g++){const I=e[g];if(["(",")",","].includes(I)&&(t=!0),I==="("&&s++,I===")"&&s--,!!t){if(s===0){if(I===" "&&["event","function","error",""].includes(i))i="";else if(i+=I,I===")"){d=!0;break}continue}if(I===" "){e[g-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}i+=I,r+=I}}if(!d)throw new Lr.BaseError("Unable to normalize signature.");return i}function Ce(e,t){const r=typeof e,s=t.type;switch(s){case"address":return He.validate(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((i,d)=>Ce(Object.values(e)[d],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(i=>Ce(i,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Mt(e,t,r){for(const s in e){const i=e[s],d=t[s];if(i.type==="tuple"&&d.type==="tuple"&&"components"in i&&"components"in d)return Mt(i.components,d.components,r[s]);const g=[i.type,d.type];if(g.includes("address")&&g.includes("bytes20")?!0:g.includes("address")&&g.includes("string")?He.validate(r[s],{strict:!1}):g.includes("address")&&g.includes("bytes")?He.validate(r[s],{strict:!1}):!1)return g}}Object.defineProperty(F,"__esModule",{value:!0});F.InvalidSelectorSizeError=F.NotFoundError=F.AmbiguityError=void 0;F.format=Hr;F.from=Cr;F.fromAbi=kr;F.getSelector=Lt;F.getSignature=Nt;F.getSignatureHash=se;const ue=$e,Ye=K,Tr=oe,he=te(),pe=xe;function Hr(e){return ue.formatAbiItem(e)}function Cr(e,t={}){const{prepare:r=!0}=t,s=Array.isArray(e)||typeof e=="string"?ue.parseAbiItem(e):e;return{...s,...r?{hash:se(s)}:{}}}function kr(e,t,r){const{args:s=[],prepare:i=!0}=r??{},d=he.validate(t,{strict:!1}),g=e.filter(h=>d?h.type==="function"||h.type==="error"?Lt(h)===he.slice(t,0,4):h.type==="event"?se(h)===t:!1:"name"in h&&h.name===t);if(g.length===0)throw new ke({name:t});if(g.length===1)return{...g[0],...i?{hash:se(g[0])}:{}};let I;for(const h of g){if(!("inputs"in h))continue;if(!s||s.length===0){if(!h.inputs||h.inputs.length===0)return{...h,...i?{hash:se(h)}:{}};continue}if(!h.inputs||h.inputs.length===0||h.inputs.length!==s.length)continue;if(s.every((B,j)=>{const P="inputs"in h&&h.inputs[j];return P?pe.isArgOfType(B,P):!1})){if(I&&"inputs"in I&&I.inputs){const B=pe.getAmbiguousTypes(h.inputs,I.inputs,s);if(B)throw new Tt({abiItem:h,type:B[0]},{abiItem:I,type:B[1]})}I=h}}const y=(()=>{if(I)return I;const[h,...O]=g;return{...h,overloads:O}})();if(!y)throw new ke({name:t});return{...y,...i?{hash:se(y)}:{}}}function Lt(e){return he.slice(se(e),0,4)}function Nt(e){const t=typeof e=="string"?e:ue.formatAbiItem(e);return pe.normalizeSignature(t)}function se(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Tr.keccak256(he.fromString(Nt(e)))}class Tt extends Ye.BaseError{constructor(t,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${pe.normalizeSignature(ue.formatAbiItem(t.abiItem))}\`, and`,`\`${r.type}\` in \`${pe.normalizeSignature(ue.formatAbiItem(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}F.AmbiguityError=Tt;class ke extends Ye.BaseError{constructor({name:t,data:r,type:s="item"}){const i=t?` with name "${t}"`:r?` with data "${r}"`:"";super(`ABI ${s}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}F.NotFoundError=ke;class Vr extends Ye.BaseError{constructor({data:t}){super(`Selector size is invalid. Expected 4 bytes. Received ${he.size(t)} bytes ("${t}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}F.InvalidSelectorSizeError=Vr;var L={},n={};Object.defineProperty(n,"__esModule",{value:!0});n.minInt120=n.minInt112=n.minInt104=n.minInt96=n.minInt88=n.minInt80=n.minInt72=n.minInt64=n.minInt56=n.minInt48=n.minInt40=n.minInt32=n.minInt24=n.minInt16=n.minInt8=n.maxInt256=n.maxInt248=n.maxInt240=n.maxInt232=n.maxInt224=n.maxInt216=n.maxInt208=n.maxInt200=n.maxInt192=n.maxInt184=n.maxInt176=n.maxInt168=n.maxInt160=n.maxInt152=n.maxInt144=n.maxInt136=n.maxInt128=n.maxInt120=n.maxInt112=n.maxInt104=n.maxInt96=n.maxInt88=n.maxInt80=n.maxInt72=n.maxInt64=n.maxInt56=n.maxInt48=n.maxInt40=n.maxInt32=n.maxInt24=n.maxInt16=n.maxInt8=n.integerRegex=n.bytesRegex=n.arrayRegex=void 0;n.maxUint256=n.maxUint248=n.maxUint240=n.maxUint232=n.maxUint224=n.maxUint216=n.maxUint208=n.maxUint200=n.maxUint192=n.maxUint184=n.maxUint176=n.maxUint168=n.maxUint160=n.maxUint152=n.maxUint144=n.maxUint136=n.maxUint128=n.maxUint120=n.maxUint112=n.maxUint104=n.maxUint96=n.maxUint88=n.maxUint80=n.maxUint72=n.maxUint64=n.maxUint56=n.maxUint48=n.maxUint40=n.maxUint32=n.maxUint24=n.maxUint16=n.maxUint8=n.minInt256=n.minInt248=n.minInt240=n.minInt232=n.minInt224=n.minInt216=n.minInt208=n.minInt200=n.minInt192=n.minInt184=n.minInt176=n.minInt168=n.minInt160=n.minInt152=n.minInt144=n.minInt136=n.minInt128=void 0;n.arrayRegex=/^(.*)\[([0-9]*)\]$/;n.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/;n.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;n.maxInt8=2n**(8n-1n)-1n;n.maxInt16=2n**(16n-1n)-1n;n.maxInt24=2n**(24n-1n)-1n;n.maxInt32=2n**(32n-1n)-1n;n.maxInt40=2n**(40n-1n)-1n;n.maxInt48=2n**(48n-1n)-1n;n.maxInt56=2n**(56n-1n)-1n;n.maxInt64=2n**(64n-1n)-1n;n.maxInt72=2n**(72n-1n)-1n;n.maxInt80=2n**(80n-1n)-1n;n.maxInt88=2n**(88n-1n)-1n;n.maxInt96=2n**(96n-1n)-1n;n.maxInt104=2n**(104n-1n)-1n;n.maxInt112=2n**(112n-1n)-1n;n.maxInt120=2n**(120n-1n)-1n;n.maxInt128=2n**(128n-1n)-1n;n.maxInt136=2n**(136n-1n)-1n;n.maxInt144=2n**(144n-1n)-1n;n.maxInt152=2n**(152n-1n)-1n;n.maxInt160=2n**(160n-1n)-1n;n.maxInt168=2n**(168n-1n)-1n;n.maxInt176=2n**(176n-1n)-1n;n.maxInt184=2n**(184n-1n)-1n;n.maxInt192=2n**(192n-1n)-1n;n.maxInt200=2n**(200n-1n)-1n;n.maxInt208=2n**(208n-1n)-1n;n.maxInt216=2n**(216n-1n)-1n;n.maxInt224=2n**(224n-1n)-1n;n.maxInt232=2n**(232n-1n)-1n;n.maxInt240=2n**(240n-1n)-1n;n.maxInt248=2n**(248n-1n)-1n;n.maxInt256=2n**(256n-1n)-1n;n.minInt8=-(2n**(8n-1n));n.minInt16=-(2n**(16n-1n));n.minInt24=-(2n**(24n-1n));n.minInt32=-(2n**(32n-1n));n.minInt40=-(2n**(40n-1n));n.minInt48=-(2n**(48n-1n));n.minInt56=-(2n**(56n-1n));n.minInt64=-(2n**(64n-1n));n.minInt72=-(2n**(72n-1n));n.minInt80=-(2n**(80n-1n));n.minInt88=-(2n**(88n-1n));n.minInt96=-(2n**(96n-1n));n.minInt104=-(2n**(104n-1n));n.minInt112=-(2n**(112n-1n));n.minInt120=-(2n**(120n-1n));n.minInt128=-(2n**(128n-1n));n.minInt136=-(2n**(136n-1n));n.minInt144=-(2n**(144n-1n));n.minInt152=-(2n**(152n-1n));n.minInt160=-(2n**(160n-1n));n.minInt168=-(2n**(168n-1n));n.minInt176=-(2n**(176n-1n));n.minInt184=-(2n**(184n-1n));n.minInt192=-(2n**(192n-1n));n.minInt200=-(2n**(200n-1n));n.minInt208=-(2n**(208n-1n));n.minInt216=-(2n**(216n-1n));n.minInt224=-(2n**(224n-1n));n.minInt232=-(2n**(232n-1n));n.minInt240=-(2n**(240n-1n));n.minInt248=-(2n**(248n-1n));n.minInt256=-(2n**(256n-1n));n.maxUint8=2n**8n-1n;n.maxUint16=2n**16n-1n;n.maxUint24=2n**24n-1n;n.maxUint32=2n**32n-1n;n.maxUint40=2n**40n-1n;n.maxUint48=2n**48n-1n;n.maxUint56=2n**56n-1n;n.maxUint64=2n**64n-1n;n.maxUint72=2n**72n-1n;n.maxUint80=2n**80n-1n;n.maxUint88=2n**88n-1n;n.maxUint96=2n**96n-1n;n.maxUint104=2n**104n-1n;n.maxUint112=2n**112n-1n;n.maxUint120=2n**120n-1n;n.maxUint128=2n**128n-1n;n.maxUint136=2n**136n-1n;n.maxUint144=2n**144n-1n;n.maxUint152=2n**152n-1n;n.maxUint160=2n**160n-1n;n.maxUint168=2n**168n-1n;n.maxUint176=2n**176n-1n;n.maxUint184=2n**184n-1n;n.maxUint192=2n**192n-1n;n.maxUint200=2n**200n-1n;n.maxUint208=2n**208n-1n;n.maxUint216=2n**216n-1n;n.maxUint224=2n**224n-1n;n.maxUint232=2n**232n-1n;n.maxUint240=2n**240n-1n;n.maxUint248=2n**248n-1n;n.maxUint256=2n**256n-1n;var N={},at;function Dr(){if(at)return N;at=1,Object.defineProperty(N,"__esModule",{value:!0}),N.decodeParameter=g,N.decodeAddress=h,N.decodeArray=O,N.decodeBool=B,N.decodeBytes=j,N.decodeNumber=P,N.decodeTuple=W,N.decodeString=Q,N.prepareParameters=Y,N.prepareParameter=V,N.encode=Z,N.encodeAddress=X,N.encodeArray=S,N.encodeBytes=E,N.encodeBoolean=A,N.encodeNumber=_,N.encodeString=C,N.encodeTuple=T,N.getArrayComponents=G,N.hasDynamicChild=k;const e=Ke(),t=D,r=ae(),s=K,i=te(),d=n;function g(c,f,b){const{checksumAddress:l,staticPosition:x}=b,w=G(f.type);if(w){const[$,u]=w;return O(c,{...f,type:u},{checksumAddress:l,length:$,staticPosition:x})}if(f.type==="tuple")return W(c,f,{checksumAddress:l,staticPosition:x});if(f.type==="address")return h(c,{checksum:l});if(f.type==="bool")return B(c);if(f.type.startsWith("bytes"))return j(c,f,{staticPosition:x});if(f.type.startsWith("uint")||f.type.startsWith("int"))return P(c,f);if(f.type==="string")return Q(c,{staticPosition:x});throw new e.InvalidTypeError(f.type)}const I=32,y=32;function h(c,f={}){const{checksum:b=!1}=f,l=c.readBytes(32);return[(w=>b?t.checksum(w):w)(i.fromBytes(r.slice(l,-20))),32]}function O(c,f,b){const{checksumAddress:l,length:x,staticPosition:w}=b;if(!x){const m=r.toNumber(c.readBytes(y)),o=w+m,a=o+I;c.setPosition(o);const p=r.toNumber(c.readBytes(I)),v=k(f);let R=0;const M=[];for(let J=0;J<p;++J){c.setPosition(a+(v?J*32:R));const[le,ie]=g(c,f,{checksumAddress:l,staticPosition:a});R+=ie,M.push(le)}return c.setPosition(w+32),[M,32]}if(k(f)){const m=r.toNumber(c.readBytes(y)),o=w+m,a=[];for(let p=0;p<x;++p){c.setPosition(o+p*32);const[v]=g(c,f,{checksumAddress:l,staticPosition:o});a.push(v)}return c.setPosition(w+32),[a,32]}let $=0;const u=[];for(let m=0;m<x;++m){const[o,a]=g(c,f,{checksumAddress:l,staticPosition:w+$});$+=a,u.push(o)}return[u,$]}function B(c){return[r.toBoolean(c.readBytes(32),{size:32}),32]}function j(c,f,{staticPosition:b}){const[l,x]=f.type.split("bytes");if(!x){const $=r.toNumber(c.readBytes(32));c.setPosition(b+$);const u=r.toNumber(c.readBytes(32));if(u===0)return c.setPosition(b+32),["0x",32];const m=c.readBytes(u);return c.setPosition(b+32),[i.fromBytes(m),32]}return[i.fromBytes(c.readBytes(Number.parseInt(x),32)),32]}function P(c,f){const b=f.type.startsWith("int"),l=Number.parseInt(f.type.split("int")[1]||"256"),x=c.readBytes(32);return[l>48?r.toBigInt(x,{signed:b}):r.toNumber(x,{signed:b}),32]}function W(c,f,b){const{checksumAddress:l,staticPosition:x}=b,w=f.components.length===0||f.components.some(({name:m})=>!m),$=w?[]:{};let u=0;if(k(f)){const m=r.toNumber(c.readBytes(y)),o=x+m;for(let a=0;a<f.components.length;++a){const p=f.components[a];c.setPosition(o+u);const[v,R]=g(c,p,{checksumAddress:l,staticPosition:o});u+=R,$[w?a:p==null?void 0:p.name]=v}return c.setPosition(x+32),[$,32]}for(let m=0;m<f.components.length;++m){const o=f.components[m],[a,p]=g(c,o,{checksumAddress:l,staticPosition:x});$[w?m:o==null?void 0:o.name]=a,u+=p}return[$,u]}function Q(c,{staticPosition:f}){const b=r.toNumber(c.readBytes(32)),l=f+b;c.setPosition(l);const x=r.toNumber(c.readBytes(32));if(x===0)return c.setPosition(f+32),["",32];const w=c.readBytes(x,32),$=r.toString(r.trimLeft(w));return c.setPosition(f+32),[$,32]}function Y({checksumAddress:c,parameters:f,values:b}){const l=[];for(let x=0;x<f.length;x++)l.push(V({checksumAddress:c,parameter:f[x],value:b[x]}));return l}function V({checksumAddress:c=!1,parameter:f,value:b}){const l=f,x=G(l.type);if(x){const[w,$]=x;return S(b,{checksumAddress:c,length:w,parameter:{...l,type:$}})}if(l.type==="tuple")return T(b,{checksumAddress:c,parameter:l});if(l.type==="address")return X(b,{checksum:c});if(l.type==="bool")return A(b);if(l.type.startsWith("uint")||l.type.startsWith("int")){const w=l.type.startsWith("int"),[,,$="256"]=d.integerRegex.exec(l.type)??[];return _(b,{signed:w,size:Number($)})}if(l.type.startsWith("bytes"))return E(b,{type:l.type});if(l.type==="string")return C(b);throw new e.InvalidTypeError(l.type)}function Z(c){let f=0;for(let w=0;w<c.length;w++){const{dynamic:$,encoded:u}=c[w];$?f+=32:f+=i.size(u)}const b=[],l=[];let x=0;for(let w=0;w<c.length;w++){const{dynamic:$,encoded:u}=c[w];$?(b.push(i.fromNumber(f+x,{size:32})),l.push(u),x+=i.size(u)):b.push(u)}return i.concat(...b,...l)}function X(c,f){const{checksum:b=!1}=f;return t.assert(c,{strict:b}),{dynamic:!1,encoded:i.padLeft(c.toLowerCase())}}function S(c,f){const{checksumAddress:b,length:l,parameter:x}=f,w=l===null;if(!Array.isArray(c))throw new e.InvalidArrayError(c);if(!w&&c.length!==l)throw new e.ArrayLengthMismatchError({expectedLength:l,givenLength:c.length,type:`${x.type}[${l}]`});let $=!1;const u=[];for(let m=0;m<c.length;m++){const o=V({checksumAddress:b,parameter:x,value:c[m]});o.dynamic&&($=!0),u.push(o)}if(w||$){const m=Z(u);if(w){const o=i.fromNumber(u.length,{size:32});return{dynamic:!0,encoded:u.length>0?i.concat(o,m):o}}if($)return{dynamic:!0,encoded:m}}return{dynamic:!1,encoded:i.concat(...u.map(({encoded:m})=>m))}}function E(c,{type:f}){const[,b]=f.split("bytes"),l=i.size(c);if(!b){let x=c;return l%32!==0&&(x=i.padRight(x,Math.ceil((c.length-2)/2/32)*32)),{dynamic:!0,encoded:i.concat(i.padLeft(i.fromNumber(l,{size:32})),x)}}if(l!==Number.parseInt(b))throw new e.BytesSizeMismatchError({expectedSize:Number.parseInt(b),value:c});return{dynamic:!1,encoded:i.padRight(c)}}function A(c){if(typeof c!="boolean")throw new s.BaseError(`Invalid boolean value: "${c}" (type: ${typeof c}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:i.padLeft(i.fromBoolean(c))}}function _(c,{signed:f,size:b}){if(typeof b=="number"){const l=2n**(BigInt(b)-(f?1n:0n))-1n,x=f?-l-1n:0n;if(c>l||c<x)throw new i.IntegerOutOfRangeError({max:l.toString(),min:x.toString(),signed:f,size:b/8,value:c.toString()})}return{dynamic:!1,encoded:i.fromNumber(c,{size:32,signed:f})}}function C(c){const f=i.fromString(c),b=Math.ceil(i.size(f)/32),l=[];for(let x=0;x<b;x++)l.push(i.padRight(i.slice(f,x*32,(x+1)*32)));return{dynamic:!0,encoded:i.concat(i.padRight(i.fromNumber(i.size(f),{size:32})),...l)}}function T(c,f){const{checksumAddress:b,parameter:l}=f;let x=!1;const w=[];for(let $=0;$<l.components.length;$++){const u=l.components[$],m=Array.isArray(c)?$:u.name,o=V({checksumAddress:b,parameter:u,value:c[m]});w.push(o),o.dynamic&&(x=!0)}return{dynamic:x,encoded:x?Z(w):i.concat(...w.map(({encoded:$})=>$))}}function G(c){const f=c.match(/^(.*)\[(\d+)?\]$/);return f?[f[2]?Number(f[2]):null,f[1]]:void 0}function k(c){var l;const{type:f}=c;if(f==="string"||f==="bytes"||f.endsWith("[]"))return!0;if(f==="tuple")return(l=c.components)==null?void 0:l.some(k);const b=G(c.type);return!!(b&&k({...c,type:b[1]}))}return N}var ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.RecursiveReadLimitExceededError=ee.PositionOutOfBoundsError=ee.NegativeOffsetError=void 0;ee.create=Fr;const Ze=K,qr={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ct({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ht({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ve({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ve({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Fr(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(qr);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}class Ve extends Ze.BaseError{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}ee.NegativeOffsetError=Ve;class Ht extends Ze.BaseError{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}ee.PositionOutOfBoundsError=Ht;class Ct extends Ze.BaseError{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}ee.RecursiveReadLimitExceededError=Ct;var ct;function Ke(){if(ct)return L;ct=1,Object.defineProperty(L,"__esModule",{value:!0}),L.InvalidTypeError=L.InvalidArrayError=L.LengthMismatchError=L.BytesSizeMismatchError=L.ArrayLengthMismatchError=L.ZeroDataError=L.DataSizeTooSmallError=void 0,L.decode=y,L.encode=h,L.encodePacked=O,L.format=B,L.from=j;const e=$e,t=D,r=ae(),s=K,i=te(),d=n,g=Dr(),I=ee;function y(S,E,A={}){const{as:_="Array",checksumAddress:C=!1}=A,T=typeof E=="string"?r.fromHex(E):E,G=I.create(T);if(r.size(T)===0&&S.length>0)throw new W;if(r.size(T)&&r.size(T)<32)throw new P({data:typeof E=="string"?E:i.fromBytes(E),parameters:S,size:r.size(T)});let k=0;const c=_==="Array"?[]:{};for(let f=0;f<S.length;++f){const b=S[f];G.setPosition(k);const[l,x]=g.decodeParameter(G,b,{checksumAddress:C,staticPosition:0});k+=x,_==="Array"?c.push(l):c[b.name??f]=l}return c}function h(S,E,A){const{checksumAddress:_=!1}=A??{};if(S.length!==E.length)throw new V({expectedLength:S.length,givenLength:E.length});const C=g.prepareParameters({checksumAddress:_,parameters:S,values:E}),T=g.encode(C);return T.length===0?"0x":T}function O(S,E){if(S.length!==E.length)throw new V({expectedLength:S.length,givenLength:E.length});const A=[];for(let _=0;_<S.length;_++){const C=S[_],T=E[_];A.push(O.encode(C,T))}return i.concat(...A)}(function(S){function E(A,_,C=!1){if(A==="address"){const c=_;return t.assert(c),i.padLeft(c.toLowerCase(),C?32:0)}if(A==="string")return i.fromString(_);if(A==="bytes")return _;if(A==="bool")return i.padLeft(i.fromBoolean(_),C?32:1);const T=A.match(d.integerRegex);if(T){const[c,f,b="256"]=T,l=Number.parseInt(b)/8;return i.fromNumber(_,{size:C?32:l,signed:f==="int"})}const G=A.match(d.bytesRegex);if(G){const[c,f]=G;if(Number.parseInt(f)!==(_.length-2)/2)throw new Y({expectedSize:Number.parseInt(f),value:_});return i.padRight(_,C?32:0)}const k=A.match(d.arrayRegex);if(k&&Array.isArray(_)){const[c,f]=k,b=[];for(let l=0;l<_.length;l++)b.push(E(f,_[l],!0));return b.length===0?"0x":i.concat(...b)}throw new X(A)}S.encode=E})(O||(L.encodePacked=O={}));function B(S){return e.formatAbiParameters(S)}function j(S){return Array.isArray(S)&&typeof S[0]=="string"||typeof S=="string"?e.parseAbiParameters(S):S}class P extends s.BaseError{constructor({data:E,parameters:A,size:_}){super(`Data size of ${_} bytes is too small for given parameters.`,{metaMessages:[`Params: (${e.formatAbiParameters(A)})`,`Data:   ${E} (${_} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}L.DataSizeTooSmallError=P;class W extends s.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}L.ZeroDataError=W;class Q extends s.BaseError{constructor({expectedLength:E,givenLength:A,type:_}){super(`Array length mismatch for type \`${_}\`. Expected: \`${E}\`. Given: \`${A}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}L.ArrayLengthMismatchError=Q;class Y extends s.BaseError{constructor({expectedSize:E,value:A}){super(`Size of bytes "${A}" (bytes${i.size(A)}) does not match expected size (bytes${E}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}L.BytesSizeMismatchError=Y;class V extends s.BaseError{constructor({expectedLength:E,givenLength:A}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${E}`,`Given length (values): ${A}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}L.LengthMismatchError=V;class Z extends s.BaseError{constructor(E){super(`Value \`${E}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}L.InvalidArrayError=Z;class X extends s.BaseError{constructor(E){super(`Type \`${E}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}return L.InvalidTypeError=X,L}Object.defineProperty(fe,"__esModule",{value:!0});fe.decode=Jr;var di=fe.encode=Yr;fe.format=Zr;var li=fe.from=Kr;fe.fromAbi=Xr;const Wr=$e,kt=F,Vt=Ke(),Gr=te();function Jr(e,t){const{bytecode:r}=t;if(e.inputs.length===0)return;const s=t.data.replace(r,"0x");return Vt.decode(e.inputs,s)}function Yr(e,t){var i;const{bytecode:r,args:s}=t;return Gr.concat(r,(i=e.inputs)!=null&&i.length&&(s!=null&&s.length)?Vt.encode(e.inputs,s):"0x")}function Zr(e){return Wr.formatAbiItem(e)}function Kr(e){return kt.from(e)}function Xr(e){const t=e.find(r=>r.type==="constructor");if(!t)throw new kt.NotFoundError({name:"constructor"});return t}var ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.decodeData=ei;ne.decodeResult=ti;var mi=ne.encodeData=ni;ne.encodeResult=ri;ne.format=ii;var hi=ne.from=si;ne.fromAbi=Xe;ne.getSelector=Dt;const Qr=$e,ye=F,_e=Ke(),we=te();function ei(e,t){const{overloads:r}=e;if(we.size(t)<4)throw new ye.InvalidSelectorSizeError({data:t});if(e.inputs.length===0)return;const s=r?Xe([e,...r],t):e;if(!(we.size(t)<=4))return _e.decode(s.inputs,we.slice(t,4))}function ti(e,t,r={}){const s=_e.decode(e.outputs,t,r);if(!(s&&Object.keys(s).length===0))return s&&Object.keys(s).length===1?Array.isArray(s)?s[0]:Object.values(s)[0]:s}function ni(e,...t){const{overloads:r}=e,s=r?Xe([e,...r],e.name,{args:t[0]}):e,i=Dt(s),d=t.length>0?_e.encode(s.inputs,t[0]):void 0;return d?we.concat(i,d):i}function ri(e,t,r={}){const{as:s="Array"}=r,i=e.outputs.length===1?[t]:Array.isArray(t)?t:s==="Object"?Object.values(t):[t];return _e.encode(e.outputs,i)}function ii(e){return Qr.formatAbiItem(e)}function si(e,t={}){return ye.from(e,t)}function Xe(e,t,r){const s=ye.fromAbi(e,t,r);if(s.type!=="function")throw new ye.NotFoundError({name:t,type:"function"});return s}function Dt(e){return ye.getSelector(e)}export{fe as A,mi as a,hi as b,ne as c,di as e,li as f,$e as r};
