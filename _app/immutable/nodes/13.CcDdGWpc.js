import"../chunks/DsnmJJEf.js";import{p as E,aB as k,f as _,d as b,s as h,b as w,c as M,ax as x,r as g,t as I,k as j}from"../chunks/C0lYg4N8.js";import{s as O}from"../chunks/9GzlE_cd.js";import{e as T,i as L}from"../chunks/BznPomiX.js";import{h as S}from"../chunks/vHHk0yCJ.js";import{d as $}from"../chunks/DmKVZe3W.js";import{l as B}from"../chunks/8HslT92O.js";import{cK as D,cL as W,cM as A,cN as q,cO as G}from"../chunks/DgjbO070.js";const J=async(v,m,r,s)=>{try{const o="This is a test.",a=await m();let{address:c}=r.getAccount();if(c||(c=await new Promise(p=>{r.subscribeAccount(({address:i})=>{i&&p(i)}),r.open()})),s({message:o,provider:a,address:c}),!c)throw new Error("Could not find address from provider.");const e=await a.request({method:"personal_sign",params:[o,c]});s({signature:e})}catch(o){s(`Error: ${o.message}`)}},N=async(v,m,r,s,o)=>{try{const a="This is a test.",c=await m();let{address:e}=r.getAccount();if(e||(e=await new Promise(i=>{r.subscribeAccount(({address:l})=>{l&&i(l)}),r.open()})),s({message:a,config:o.wagmiConfig,address:e}),!e)throw new Error("Could not find address from provider.");s({connectors:r.getConnectors()});const p=await G(o.wagmiConfig,{message:a});s({signature:p})}catch(a){s(`Error: ${a.message}`)}};var R=_('<link rel="icon" href="radioactive%20barrel.svg"/>'),U=_("<li><pre> </pre></li>"),z=_('<main class="svelte-lp2jmn"><button class="svelte-lp2jmn">Provider <code>sign_message</code></button> <button class="svelte-lp2jmn">WAGMI <code>signMessage</code></button> <appkit-button></appkit-button> <ol reversed></ol></main>',2);function ee(v,m){E(m,!0);const r=k([]);function s(t){if(console.debug({msg:t}),typeof t!="string")try{t=B.stringify(t,null,2)}catch(n){t=`Error: ${n.message}`}r.unshift(t)}const o=[W],a=new D({projectId:A,networks:o}),e=k(q({adapters:[a],networks:o,metadata:{name:"Mïmis",description:"Collaborative filesystem",url:"https://mimis.dhappy.org",icons:["https://avatars.githubusercontent.com/u/179229932"]},projectId:A,features:{analytics:!0,swaps:!1,onramp:!1,connectMethodsOrder:["wallet","social","email"]}}));async function p(t="eip155"){return await e.ready(),new Promise((n,u)=>{const f=e.getProvider(t);if(f)return n(f);e.subscribeProviders(d=>n(d[t])),e.subscribeEvents(d=>{d.data.event==="MODAL_CLOSE"&&(d.data.properties.connected||u(new Error("Modal closed without connection.")))}),e.open()})}var i=z();S(t=>{var n=R();x.title="Mïmis: Signing Test",w(t,n)});var l=b(i);l.__click=[J,p,e,s];var y=h(l,2);y.__click=[N,p,e,s,a];var C=h(y,2),P=h(C,2);T(P,21,()=>r,L,(t,n)=>{var u=U(),f=b(u),d=b(f,!0);g(f),g(u),I(()=>O(d,j(n))),w(t,u)}),g(P),g(i),w(v,i),M()}$(["click"]);export{ee as component};
