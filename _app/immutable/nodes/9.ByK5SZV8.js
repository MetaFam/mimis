import"../chunks/CWj6FrbW.js";import{p as E,aj as k,f as _,d as b,s as h,b as w,c as M,ai as I,r as g,t as x,k as T}from"../chunks/DT345vJT.js";import{d as O,s as S}from"../chunks/CQsOHSfA.js";import{e as $,i as j}from"../chunks/wtRIEkiG.js";import{h as L}from"../chunks/CIVYj_3Q.js";import{l as W}from"../chunks/8HslT92O.js";import{W as D,m as q,P as A,c as B,s as G}from"../chunks/BsreV6Dk.js";const J=async(v,p,r,s)=>{try{const a="This is a test.",o=await p();let{address:c}=r.getAccount();if(c||(c=await new Promise(d=>{r.subscribeAccount(({address:i})=>{i&&d(i)}),r.open()})),s({message:a,provider:o,address:c}),!c)throw new Error("Could not find address from provider.");const e=await o.request({method:"personal_sign",params:[a,c]});s({signature:e})}catch(a){s(`Error: ${a.message}`)}},R=async(v,p,r,s,a)=>{try{const o="This is a test.",c=await p();let{address:e}=r.getAccount();if(e||(e=await new Promise(i=>{r.subscribeAccount(({address:m})=>{m&&i(m)}),r.open()})),s({message:o,config:a.wagmiConfig,address:e}),!e)throw new Error("Could not find address from provider.");s({connectors:r.getConnectors()});const d=await G(a.wagmiConfig,{message:o});s({signature:d})}catch(o){s(`Error: ${o.message}`)}};var U=_('<link rel="icon" href="radioactive%20barrel.svg"/>'),z=_("<li><pre> </pre></li>"),F=_('<main class="svelte-18lbhld"><button class="svelte-18lbhld">Provider <code>sign_message</code></button> <button class="svelte-18lbhld">WAGMI <code>signMessage</code></button> <appkit-button></appkit-button> <ol reversed></ol></main>',2);function K(v,p){E(p,!0);const r=k([]);function s(t){if(console.debug({msg:t}),typeof t!="string")try{t=W.stringify(t,null,2)}catch(n){t=`Error: ${n.message}`}r.unshift(t)}const a=[q],o=new D({projectId:A,networks:a}),e=k(B({adapters:[o],networks:a,metadata:{name:"Mïmis",description:"Collaborative filesystem",url:"https://mimis.dhappy.org",icons:["https://avatars.githubusercontent.com/u/179229932"]},projectId:A,features:{analytics:!0,swaps:!1,onramp:!1,connectMethodsOrder:["wallet","social","email"]}}));async function d(t="eip155"){return await e.ready(),new Promise((n,u)=>{const f=e.getProvider(t);if(f)return n(f);e.subscribeProviders(l=>n(l[t])),e.subscribeEvents(l=>{l.data.event==="MODAL_CLOSE"&&(l.data.properties.connected||u(new Error("Modal closed without connection.")))}),e.open()})}var i=F();L(t=>{var n=U();I.title="Mïmis: Signing Test",w(t,n)});var m=b(i);m.__click=[J,d,e,s];var y=h(m,2);y.__click=[R,d,e,s,o];var C=h(y,2),P=h(C,2);$(P,21,()=>r,j,(t,n)=>{var u=z(),f=b(u),l=b(f,!0);g(f),g(u),x(()=>S(l,T(n))),w(t,u)}),g(P),g(i),w(v,i),M()}O(["click"]);export{K as component};
