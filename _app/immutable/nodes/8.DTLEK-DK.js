var W=Object.defineProperty;var z=(r,s,t)=>s in r?W(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var h=(r,s,t)=>z(r,typeof s!="symbol"?s+"":s,t);import"../chunks/CWj6FrbW.js";import{p as B,al as f,aj as C,ak as y,aR as D,d as v,r as l,s as M,k as d,t as U,aL as X,b as _,c as T,g as F,f as V}from"../chunks/DT345vJT.js";import{e as L,i as P}from"../chunks/wtRIEkiG.js";import{s as S}from"../chunks/CQsOHSfA.js";import{s as w}from"../chunks/DFqy6DhR.js";import{b as R}from"../chunks/Coc-yxVr.js";class Y{constructor({x:s=0,y:t=0,w:o=0,h:a=0}={}){h(this,"x");h(this,"y");h(this,"w");h(this,"h");h(this,"center");this.x=Math.min(s,s+o),this.y=Math.min(t,t+a),this.w=Math.max(s-o,o),this.h=Math.max(t-a,a),this.center={x:this.x+this.w/2,y:this.y+this.h/2}}}class G{constructor({x:s=0,y:t=0}={}){h(this,"x");h(this,"y");this.x=s,this.y=t}}function H(r,s){var x;if(!r)throw new Error("`elem` is not defined.");if(!r.closest)throw new Error("`elem.closest()` is not defined.");const t=(x=r.closest("svg"))==null?void 0:x.createSVGPoint();if(!t)throw new Error(`No SVG parent of ${r.nodeName}.`);t.x=s.x,t.y=s.y;const o=r.getScreenCTM(),a=t.matrixTransform(o.inverse());return{x:a.x,y:a.y}}class A{constructor({}={}){}}var I=D('<svg width="100%" height="100%" preserveAspectRatio="none"><text textLength="100%" lengthAdjust="spacingAndGlyphs" style="scale: 1 1.2" class="svelte-4uir6f"><tspan dy="0.5lh"> </tspan> <tspan x="0" dy="0.5lh"> </tspan> <tspan x="0" dy="0.5lh"> </tspan></text><rect class="svelte-4uir6f"></rect></svg>');function J(r,s){B(s,!0);let t=f(null),o=f(null),a=X(()=>{if(!d(t))return null;const e=d(t).getBoundingClientRect();return console.debug({bbox:e}),new Y({x:e.x,y:e.y,w:e.width,h:e.height})}),x=f(C(new G)),b=f(C(new A));document.addEventListener("resize",e=>{y(b,new A,!0)}),document.addEventListener("mousemove",e=>{try{if(!e.target)throw new Error("`evt.target` is not defined.");if(!(e.target instanceof SVGElement))throw new Error("`evt.target` is not a `SVGElement`.");y(x,new G(H(e.target,new G({x:e.clientX,y:e.clientY}))),!0)}catch(i){console.error({"Mouse Update":i})}});const n={x:-12,y:0,h:50,get w(){return 2*Math.abs(this.x)}};var c=I(),u=v(c),g=v(u),$=v(g);l(g);var m=M(g,2),E=v(m);l(m);var q=M(m,2),j=v(q);l(q),l(u),R(u,e=>y(t,e),()=>d(t));var p=M(u);l(c),R(c,e=>y(o,e),()=>d(o)),U((e,i,k,N)=>{w(c,"viewBox",`${n.x} ${n.y} ${n.w??""} ${n.h}`),S($,`ℳ: «${s.row??""}, ${s.col??""}»`),S(E,`🐭: «${e??""}, ${i??""}»`),S(j,`⊛: «${k??""}, ${N??""}»`),w(p,"x",n.x),w(p,"y",n.y),w(p,"width",n.w),w(p,"height",n.h)},[()=>d(x).x.toFixed(1),()=>d(x).y.toFixed(1),()=>{var e,i;return(i=(e=d(a))==null?void 0:e.x)==null?void 0:i.toFixed(1)},()=>{var e,i;return(i=(e=d(a))==null?void 0:e.y)==null?void 0:i.toFixed(1)}]),_(r,c),T()}var K=V('<li class="svelte-1dq4b1o"><!></li>'),O=V('<li class="svelte-1dq4b1o"><ol class="svelte-1dq4b1o"></ol></li>'),Q=V('<ol id="grid" class="svelte-1dq4b1o"></ol>');function at(r,s){B(s,!0);const t={rows:10,cols:10};F(()=>document.documentElement.style.setProperty("--rows",String(t.rows))),F(()=>document.documentElement.style.setProperty("--cols",String(t.cols)));var o=Q();L(o,21,()=>({length:t.cols}),P,(a,x,b)=>{var n=O(),c=v(n);L(c,21,()=>({length:t.rows}),P,(u,g,$)=>{var m=K(),E=v(m);J(E,{row:$+1,col:b+1}),l(m),_(u,m)}),l(c),l(n),_(a,n)}),l(o),_(r,o),T()}export{at as component};
