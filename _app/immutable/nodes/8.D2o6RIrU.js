var W=Object.defineProperty;var D=(r,s,t)=>s in r?W(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var h=(r,s,t)=>D(r,typeof s!="symbol"?s+"":s,t);import"../chunks/CWj6FrbW.js";import{p as B,al as f,aj as R,ak as y,aR as U,d as u,r as l,s as M,k as d,t as X,aL as Y,b as _,c as T,g as V,f as z,ai as q}from"../chunks/DT345vJT.js";import{h as H}from"../chunks/CIVYj_3Q.js";import{e as C,i as F}from"../chunks/wtRIEkiG.js";import{s as S}from"../chunks/CQsOHSfA.js";import{s as p}from"../chunks/DFqy6DhR.js";import{b as L}from"../chunks/Coc-yxVr.js";class I{constructor({x:s=0,y:t=0,w:o=0,h:n=0}={}){h(this,"x");h(this,"y");h(this,"w");h(this,"h");h(this,"center");this.x=Math.min(s,s+o),this.y=Math.min(t,t+n),this.w=Math.max(s-o,o),this.h=Math.max(t-n,n),this.center={x:this.x+this.w/2,y:this.y+this.h/2}}}class G{constructor({x:s=0,y:t=0}={}){h(this,"x");h(this,"y");this.x=s,this.y=t}}function J(r,s){var m;if(!r)throw new Error("`elem` is not defined.");if(!r.closest)throw new Error("`elem.closest()` is not defined.");const t=(m=r.closest("svg"))==null?void 0:m.createSVGPoint();if(!t)throw new Error(`No SVG parent of ${r.nodeName}.`);t.x=s.x,t.y=s.y;const o=r.getScreenCTM(),n=t.matrixTransform(o.inverse());return{x:n.x,y:n.y}}class A{constructor({}={}){}}var K=U('<svg width="100%" height="100%" preserveAspectRatio="none"><text textLength="100%" lengthAdjust="spacingAndGlyphs" style="scale: 1 1.2" class="svelte-4uir6f"><tspan dy="0.75lh"> </tspan> <tspan x="0" dy="0.75lh"> </tspan> <tspan x="0" dy="0.75lh"> </tspan></text><rect class="svelte-4uir6f"></rect></svg>');function O(r,s){B(s,!0);let t=f(null),o=f(null),n=Y(()=>{if(!d(t))return null;const e=d(t).getBoundingClientRect();return console.debug({bbox:e}),new I({x:e.x,y:e.y,w:e.width,h:e.height})}),m=f(R(new G)),$=f(R(new A));document.addEventListener("resize",e=>{y($,new A,!0)}),document.addEventListener("mousemove",e=>{try{if(!e.target)throw new Error("`evt.target` is not defined.");if(!(e.target instanceof SVGElement))throw new Error("`evt.target` is not a `SVGElement`.");y(m,new G(J(e.target,new G({x:e.clientX,y:e.clientY}))),!0)}catch(i){console.error({"Mouse Update":i})}});const a={x:-12,y:0,h:65,get w(){return 2*Math.abs(this.x)}};var c=K(),v=u(c),g=u(v),E=u(g);l(g);var x=M(g,2),b=u(x);l(x);var P=M(x,2),j=u(P);l(P),l(v),L(v,e=>y(t,e),()=>d(t));var w=M(v);l(c),L(c,e=>y(o,e),()=>d(o)),X((e,i,k,N)=>{p(c,"viewBox",`${a.x} ${a.y} ${a.w??""} ${a.h}`),S(E,`ℳ: «${s.row??""}, ${s.col??""}»`),S(b,`🐭: «${e??""}, ${i??""}»`),S(j,`⊛: «${k??""}, ${N??""}»`),p(w,"x",a.x),p(w,"y",a.y),p(w,"width",a.w),p(w,"height",a.h)},[()=>d(m).x.toFixed(1),()=>d(m).y.toFixed(1),()=>{var e,i;return(i=(e=d(n))==null?void 0:e.x)==null?void 0:i.toFixed(1)},()=>{var e,i;return(i=(e=d(n))==null?void 0:e.y)==null?void 0:i.toFixed(1)}]),_(r,c),T()}var Q=z('<li class="svelte-1lldz24"><!></li>'),Z=z('<li class="svelte-1lldz24"><ol class="svelte-1lldz24"></ol></li>'),tt=z('<ol id="grid" class="svelte-1lldz24"></ol>');function ct(r,s){B(s,!0);const t={rows:10,cols:10};V(()=>document.documentElement.style.setProperty("--rows",String(t.rows))),V(()=>document.documentElement.style.setProperty("--cols",String(t.cols))),document.documentElement.style.setProperty("--gap","0.25rem");var o=tt();H(n=>{q.title="Macrodata Refinement"}),C(o,21,()=>({length:t.cols}),F,(n,m,$)=>{var a=Z(),c=u(a);C(c,21,()=>({length:t.rows}),F,(v,g,E)=>{var x=Q(),b=u(x);O(b,{row:E+1,col:$+1}),l(x),_(v,x)}),l(c),l(a),_(n,a)}),l(o),_(r,o),T()}export{ct as component};
